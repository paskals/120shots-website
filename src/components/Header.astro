---
import { Image } from "astro:assets";
import Hamburger from "./Hamburger.astro";
import Navigation from "./Navigation.astro";
import ThemeIcon from "./ThemeIcon.astro";

interface Props {
  is404Page?: boolean;
  compact?: boolean;
  essayTitle?: string;
}

const { is404Page = false, compact = false, essayTitle } = Astro.props;

const favicon_avif = {
  src: "/120Shots_icon_nobackground.png",
  alt: "favicon",
  width: "512",
  height: "512",
};
---

<header class={compact ? "site-header site-header--compact" : "site-header"}>
  <nav class="site-header__nav">
    {!is404Page && (
      <div class="site-header__left">
        <a href="/" class="site-header__logo">
          <Image
            class="dark:invert"
            src={favicon_avif.src}
            alt="Home"
            width={compact ? 32 : 50}
            height={compact ? 32 : 50}
            loading="eager"
            transition:name="site-logo"
          />
        </a>
        {compact && essayTitle && (
          <span class="site-header__title" transition:name="essay-title">
            {essayTitle}
          </span>
        )}
      </div>
    )}
    {!is404Page && (
      <div class="site-header__right">
        <div class="site-header__theme" transition:name="site-theme-toggle">
          <ThemeIcon />
        </div>
        <div class="site-header__hamburger" transition:name="site-hamburger">
          <Hamburger />
        </div>
      </div>
    )}
    {!is404Page && (
      <div class="site-header__navigation">
        <Navigation />
      </div>
    )}
  </nav>
  <slot />
</header>
